<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf8">
<meta content="IE-edge,chrome=1" http-equiv="X-UA-Compatable">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Escape game reviews">
<title>Le meilleur escape game</title>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/assets/css/styles.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="nav-wrap">
    <div class="logo">
        <a href="/" class="nav-logo">
            <img src="/assets/img/logo_lemeg_.png" alt="Logo">
        </a>
    </div>

    <ul class ="sidebar">
        <li onclick=hideSidebar()> <a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></a></li>
        <li> <a href="/top-france">Top France</a> </li>
        <li> <a href="/top-world">Top World</a> </li>
        <li> <a href="/podcast">Podcast</a>  </li>
        <!-- <li> <a href="/experience-immersive">Expérience immersive</a> </li> -->
        <li> <a href="/horreur">Horreur</a> </li>
        <!-- <li> <a href="/theatre-immersif">Théâtre immersif</a> </li> -->

    </ul>
    <ul>
        <li class="hideOnMobile"> <a href="/top-france">Top France</a> </li>
        <li class="hideOnMobile"> <a href="/top-world">Top World</a> </li>
        <li class="hideOnMobile"> <a href="/podcast">Podcast</a>  </li>
        <!-- <li class="hideOnMobile"> <a href="/experience-immersive">Expérience immersive</a> </li> -->
        <li class="hideOnMobile"> <a href="/horreur">Horreur</a> </li>
        <li class="hideOnMobile"> <a href="/theatre-immersif">Théâtre immersif</a> </li>
        <!-- <li class="search-icon">
            <input type="search" id="search-input" placeholder="Search">
            <button id="search-button">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
                    <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                </svg>
            </button>
        </li> -->

        <!-- <form action="/search.html" method="get">
            <li class="search-icon">
              <input type="search" id="search-input" name="query" placeholder="Search">
              <button id="search-button" type="submit"value="search">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
                  <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                </svg>
              </button>
              
            </li>
        </form> -->
        <form action="/search.html" method="get" class="search-form">
            <input type="text" id="search-box" name="query" placeholder="Search...">
            <button type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#fff">
                    <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 
                    75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 
                    69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 
                    0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                </svg>
            </button>
        </form>

        <!-- <form action="/search.html" method="get">
            <label for="search-box">Search</label>
            <input type="text" id="search-box" name="query">
            <input type="submit" value="search">
        </form> -->

        <li class="menu-button" onclick=showSidebar()> <a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="26px" viewBox="0 -960 960 960" width="26px" fill="#e3e3e3"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg></a></li>
    </ul>
</nav>

<script>
    function showSidebar(){
        const sidebar = document.querySelector('.sidebar')
        sidebar.style.display= 'flex'
    }
    function hideSidebar(){
        const sidebar = document.querySelector('.sidebar')
        sidebar.style.display= 'none'
    }
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const searchInput = document.getElementById("search-input");
        const searchButton = document.getElementById("search-button");

        function performSearch() {
            const query = searchInput.value.trim();
            console.log("Searching for:", query);  // Log to check the search term
            
            if (query) {
                // Select all article elements (ensure the class '.article' exists)
                const articles = document.querySelectorAll('.article'); // Make sure each article has the '.article' class
                
                console.log("Articles found:", articles.length); // Log how many articles are found
                
                articles.forEach(article => {
                    const title = article.querySelector('.title') ? article.querySelector('.title').textContent.toLowerCase() : '';
                    const content = article.querySelector('.content') ? article.querySelector('.content').textContent.toLowerCase() : '';
                    
                    console.log("Title:", title); // Log title for each article
                    console.log("Content:", content); // Log content for each article
                    
                    if (title.includes(query.toLowerCase()) || content.includes(query.toLowerCase())) {
                        article.style.display = 'block';  // Show matching article
                        console.log("Showing article:", title); // Log which article is being shown
                    } else {
                        article.style.display = 'none';   // Hide non-matching article
                        console.log("Hiding article:", title); // Log which article is being hidden
                    }
                });
            }
        }

        // Trigger search when clicking the button
        searchButton.addEventListener("click", performSearch);

        // Trigger search when pressing "Enter" key in the input field
        searchInput.addEventListener("keydown", function (event) {
            console.log("Key pressed:", event.key);  // Log the pressed key
            if (event.key === "Enter") {
                event.preventDefault(); // Prevent default form submission or page reload on Enter key press
                performSearch();
            }
        });
    });



</script>
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>France Map with Clickable Cities</title>
    <style>
        body {
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        #france-map-unique {
            width: 100%;
            max-width: 800px;
            height: auto;
            margin-top: 20px;
        }

        .city {
            fill: orange;
            cursor: pointer;
            transition: fill 0.3s ease-in-out;
        }

        .city-label-box {
            fill: black;
            opacity: 0.7;
            rx: 8;
            ry: 8;
            transition: opacity 0.3s ease-in-out, filter 0.3s ease-in-out;
        }

        .city-label {
            font-size: 22px;
            font-weight: bold;
            fill: white;
            text-anchor: middle;
            alignment-baseline: middle;
            transition: fill 0.3s ease-in-out;
        }

        .label-line {
            stroke: orange;
            stroke-width: 5;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        a {
            cursor: pointer;
        }

        a:hover .city-label-box {
            filter: drop-shadow(0px 0px 8px orange);
            opacity: 1;
        }

        a:hover .city-label {
            fill: white;
        }

        a:hover .city {
            fill: rgba(33, 153, 234, 0.859);
        }

        a:hover .label-line {
            opacity: 1;
        }

        @media screen and (max-width: 600px) {
            #france-map-unique {
                width: 90%;
            }

            .city-label {
                font-size: 22px;
            }
        }
    </style>
    <script>
        function convertToSVGCoords(lon, lat, svgWidth, svgHeight) {
            const minLon = -5.1, maxLon = 9.6;
            const minLat = 41.3, maxLat = 51.1;
            let x = ((lon - minLon) / (maxLon - minLon)) * svgWidth;
            let y = (1 - (lat - minLat) / (maxLat - minLat)) * svgHeight;
            return { x, y };
        }
    </script>
</head>
<body>

<svg id="france-map-unique" viewBox="-150 5 800 550">
    <image href="/assets/img/icons/france.svg" width="500" height="500" loading="lazy" />
</svg>

<div class="top-articles-placeholder"
     data-title=""
     cities='[ 
                {
                    "title": "Annecy", 
                    "lon": 6.1294,
                    "lat": 45.8992,
                    "url": "/top-france/annecy/"
                },  
                {
                    "title": "Annemasse", 
                    "lon": 6.23,
                    "lat": 46.19,
                    "url": "/top-france/annemase/"
                },  
                {
                    "title": "Avignon", 
                    "lon": 4.8,
                    "lat": 43.95,
                    "url": "/top-france/avignon/"
                },  
                {
                    "title": "Bayonne", 
                    "lon": -1.47,
                    "lat": 43.49,
                    "url": "/top-france/bayonne/"
                },  
                {
                    "title": "Bordeaux", 
                    "lon": -0.58,
                    "lat": 44.84,
                    "url": "/top-france/bordeaux/"
                },  
                {
                    "title": "Chambéry", 
                    "lon": 5.92,
                    "lat": 45.57,
                    "url": "/top-france/chambery/"
                },  
                {
                    "title": "Dijon", 
                    "lon": 5.04,
                    "lat": 47.32,
                    "url": "/top-france/dijon/"
                },  
                {
                    "title": "Grenoble", 
                    "lon": 5.74,
                    "lat": 45.18,
                    "url": "/top-france/grenoble/"
                },  
                {
                    "title": "Lille", 
                    "lon": 3.06,
                    "lat": 50.64,
                    "url": "/top-france/lille/"
                },  
                {
                    "title": "Lyon", 
                    "lon": 4.83,
                    "lat": 45.76,
                    "url": "/top-france/lyon/"
                },  
                {
                    "title": "Montélimar", 
                    "lon": 4.75,
                    "lat": 44.56,
                    "url": "/top-france/montelimar/"
                },  
                {
                    "title": "Montpelier", 
                    "lon": 3.87,
                    "lat": 43.61,
                    "url": "/top-france/montpelier/"
                },  
                {
                    "title": "Nantes", 
                    "lon": -1.55,
                    "lat": 47.21,
                    "url": "/top-france/nantes/"
                },  
                {
                    "title": "Nice", 
                    "lon": 7.27,
                    "lat": 43.7,
                    "url": "/top-france/nice/"
                },  
                {
                    "title": "Nimes", 
                    "lon": 4.36,
                    "lat": 43.84,
                    "url": "/top-france/nimes/"
                },  
                {
                    "title": "Paris", 
                    "lon": 2.35,
                    "lat": 48.85,
                    "url": "/top-france/paris/"
                },  
                {
                    "title": "Pau", 
                    "lon": -0.37,
                    "lat": 43.3,
                    "url": "/top-france/pau/"
                },  
                {
                    "title": "Perpignan", 
                    "lon": 2.9,
                    "lat": 42.7,
                    "url": "/top-france/perpignan/"
                },  
                {
                    "title": "Toulouse", 
                    "lon": 1.44,
                    "lat": 43.6,
                    "url": "/top-france/toulouse/"
                },  
                {
                    "title": "Tours", 
                    "lon": 0.69,
                    "lat": 47.39,
                    "url": "/top-france/tours/"
                },  
                {
                    "title": "Valence", 
                    "lon": 4.89,
                    "lat": 44.93,
                    "url": "/top-france/valence/"
                }]'>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const svg = document.getElementById("france-map-unique");
        const citiesData = document.querySelector(".top-articles-placeholder").getAttribute('cities');
        
        if (!citiesData) {
            console.error("Cities data not found!");
            return;
        }
        
        const cities = JSON.parse(citiesData);
        const totalCities = cities.length;
        const halfCities = Math.ceil(totalCities / 2);

        let leftXPosition = -70; 
        let rightXPosition = 550;
        let initialYPosition = 50;
        let ySpacing = 45;

        const fragment = document.createDocumentFragment();

        cities.forEach((city, index) => {
            let { x, y } = convertToSVGCoords(city.lon, city.lat, 500, 500);

            let isLeftColumn = index < halfCities;
            let labelX = isLeftColumn ? leftXPosition : rightXPosition;
            let labelY = initialYPosition + (index % halfCities) * ySpacing;

            let link = document.createElementNS("http://www.w3.org/2000/svg", "a");
            link.setAttribute("href", city.url);

            let circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("class", "city");
            circle.setAttribute("cx", x);
            circle.setAttribute("cy", y);
            circle.setAttribute("r", 8);

            let tempText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            tempText.setAttribute("font-size", "18");
            tempText.textContent = city.title;
            svg.appendChild(tempText);
            let textWidth = tempText.getBBox().width;
            svg.removeChild(tempText);

            let textBox = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            textBox.setAttribute("class", "city-label-box");
            textBox.setAttribute("x", labelX - (textWidth / 2) - 16);
            textBox.setAttribute("y", labelY - 18);
            textBox.setAttribute("width", textWidth + 34);
            textBox.setAttribute("height", 30);

            let text = document.createElementNS("http://www.w3.org/2000/svg", "text");
            text.setAttribute("class", "city-label");
            text.setAttribute("x", labelX);
            text.setAttribute("y", labelY);
            text.textContent = city.title;

            let line = document.createElementNS("http://www.w3.org/2000/svg", "line");
            line.setAttribute("class", "label-line");
            line.setAttribute("pointer-events", "none"); //Make the line not clickable

            if (isLeftColumn) {
                line.setAttribute("x1", labelX + textWidth / 2 + 10);
            } else {
                line.setAttribute("x1", labelX - textWidth / 2 - 10);
            }

            line.setAttribute("y1", labelY);
            line.setAttribute("x2", x);
            line.setAttribute("y2", y);

            link.appendChild(line);
            link.appendChild(circle);
            link.appendChild(textBox);
            link.appendChild(text);

            fragment.appendChild(link);
        });

        svg.appendChild(fragment);
    });
</script>

</body>
</html>


<div class="grid-wrapper_main">
    <div class="grid-container_main">
        
            <div class="grid-item_main">
                <a href="/top-france/annecy/">
                    <img src="/assets/img/top-france/annecy.webp" alt="Annecy" loading="lazy">
                    <div class="overlay_main">Annecy</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/annemase/">
                    <img src="/assets/img/top-france/annemasse.webp" alt="Annemasse" loading="lazy">
                    <div class="overlay_main">Annemasse</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/avignon/">
                    <img src="/assets/img/top-france/avignon.webp" alt="Avignon" loading="lazy">
                    <div class="overlay_main">Avignon</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/bayonne/">
                    <img src="/assets/img/top-france/bayonne.webp" alt="Bayonne" loading="lazy">
                    <div class="overlay_main">Bayonne</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/bordeaux/">
                    <img src="/assets/img/top-france/bordeaux.webp" alt="Bordeaux" loading="lazy">
                    <div class="overlay_main">Bordeaux</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/chambery/">
                    <img src="/assets/img/top-france/chambery.webp" alt="Chambéry" loading="lazy">
                    <div class="overlay_main">Chambéry</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/dijon/">
                    <img src="/assets/img/top-france/dijon.webp" alt="Dijon" loading="lazy">
                    <div class="overlay_main">Dijon</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/grenoble/">
                    <img src="/assets/img/top-france/grenoble.webp" alt="Grenoble" loading="lazy">
                    <div class="overlay_main">Grenoble</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/lille/">
                    <img src="/assets/img/top-france/lille.webp" alt="Lille" loading="lazy">
                    <div class="overlay_main">Lille</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/lyon/">
                    <img src="/assets/img/top-france/lyon.webp" alt="Lyon" loading="lazy">
                    <div class="overlay_main">Lyon</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/montelimar/">
                    <img src="/assets/img/top-france/montelimar.webp" alt="Montélimar" loading="lazy">
                    <div class="overlay_main">Montélimar</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/montpelier/">
                    <img src="/assets/img/top-france/montpellier.webp" alt="Montpelier" loading="lazy">
                    <div class="overlay_main">Montpelier</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/nantes/">
                    <img src="/assets/img/top-france/nantes.webp" alt="Nantes" loading="lazy">
                    <div class="overlay_main">Nantes</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/nice/">
                    <img src="/assets/img/top-france/nice.webp" alt="Nice" loading="lazy">
                    <div class="overlay_main">Nice</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/nimes/">
                    <img src="/assets/img/top-france/nimes.webp" alt="Nimes" loading="lazy">
                    <div class="overlay_main">Nimes</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/paris/">
                    <img src="/assets/img/top-france/paris.webp" alt="Paris" loading="lazy">
                    <div class="overlay_main">Paris</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/pau/">
                    <img src="/assets/img/top-france/pau.webp" alt="Pau" loading="lazy">
                    <div class="overlay_main">Pau</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/perpignan/">
                    <img src="/assets/img/top-france/perpignan.webp" alt="Perpignan" loading="lazy">
                    <div class="overlay_main">Perpignan</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/toulouse/">
                    <img src="/assets/img/top-france/toulouse.webp" alt="Toulouse" loading="lazy">
                    <div class="overlay_main">Toulouse</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/tours/">
                    <img src="/assets/img/top-france/tours.webp" alt="Tours" loading="lazy">
                    <div class="overlay_main">Tours</div>
                </a>
            </div>
        
            <div class="grid-item_main">
                <a href="/top-france/valence/">
                    <img src="/assets/img/top-france/valence.webp" alt="Valence" loading="lazy">
                    <div class="overlay_main">Valence</div>
                </a>
            </div>
        
    </div>
</div>
    <script type="text/javascript" src="/assets/js/jquery-3.7.1.js"></script>
<script type="text/javascript" src="/assets/js/functions.js"></script>
</body>
</html>